(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,t,a){e.exports={App:"App_App__1mSdQ",Searchbar:"App_Searchbar__3m4c4",SearchForm:"App_SearchForm__71EYe",SearchFormButton:"App_SearchFormButton__ey9-_",SearchFormButtonLabel:"App_SearchFormButtonLabel__2IJGC",SearchFormInput:"App_SearchFormInput__3MAv4","SearchForm-input":"App_SearchForm-input__1UKCe",ImageGallery:"App_ImageGallery__28W-1",ImageGalleryItem:"App_ImageGalleryItem__QztkE",ImageGalleryItemImage:"App_ImageGalleryItemImage__1vN4A",Overlay:"App_Overlay__qUNJc",Modal:"App_Modal__2vMc6",ButtonFather:"App_ButtonFather__3U7If",Button:"App_Button__3XkUM"}},22:function(e,t,a){e.exports=a(67)},67:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),o=a.n(c),l=a(8),i=a(4),u=a(5),s=a(7),m=a(6),p=a(19),h=a.n(p),g=a(20),d=a(2),f=a.n(d),y=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleSubmit=function(t){t.preventDefault(),e.props.getQuery(e.state.query),e.setState({query:""})},e.handleInput=function(t){var a=t.target,r=a.name,n=a.value;e.setState(Object(g.a)({},r,n))},e}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("header",{className:f.a.Searchbar},n.a.createElement("form",{className:f.a.SearchForm,onSubmit:this.handleSubmit},n.a.createElement("button",{type:"submit",className:f.a.SearchFormButton},n.a.createElement("span",{className:f.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,name:"query",value:this.props.query,placeholder:"Search images and photos",onChange:this.handleInput})))}}]),a}(n.a.Component);var _=function(e){var t=e.article,a=e.toogleModal,r=e.getCurrentId;return n.a.createElement("li",{className:f.a.ImageGalleryItem},n.a.createElement("img",{src:t.webformatURL,alt:"",id:t.id,className:f.a.ImageGalleryItemImage,onClick:function(){return e=t.id,a(),void r(e);var e}}))};var b=function(e){var t=e.articlesArr,a=e.toogleModal,r=e.getCurrentId;return n.a.createElement("ul",{className:f.a.ImageGallery},t.map((function(e){return n.a.createElement(_,{article:e,key:e.id,toogleModal:a,getCurrentId:r})})))};var I=function(e){var t=e.fetch;return n.a.createElement("div",{className:f.a.ButtonFather},n.a.createElement("button",{className:f.a.Button,onClick:t},"Load More"))};var v=function(e){var t=e.toogleModal,a=e.getCurrentImage;return n.a.createElement("div",{className:f.a.Overlay,onClick:function(){t()}},n.a.createElement("div",{className:f.a.Modal},n.a.createElement("img",{src:a(),alt:""})))},S=(a(44),a(21)),E=a.n(S),A=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(E.a,{type:"Puff",color:"#00BFFF",height:100,width:100})}}]),a}(n.a.Component),F="17947468-54ca6cabf086bd192346cc10e",C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={articles:[],isLoading:!1,query:"",currentPage:1,modalVisible:!1,currentId:736877},e.toogleModal=function(){e.setState((function(e){return{modalVisible:!e.modalVisible}}))},e.getCurrentId=function(t){e.setState({currentId:t})},e.getCurrentImage=function(){return e.state.articles.filter((function(t){return t.id===e.state.currentId}))[0].webformatURL},e.getQuery=function(t){e.setState({query:t,currentPage:1,articles:[]})},e.fetchArticles=function(){e.setState({isLoading:!0}),h.a.get("https://pixabay.com/api/?q=".concat(e.state.query,"&page=").concat(e.state.currentPage,"&key=").concat(F,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){e.setState((function(e){return{articles:[].concat(Object(l.a)(e.articles),Object(l.a)(t.data.hits)),isLoading:!1,currentPage:e.currentPage+1}}))})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.fetchArticles(),t.articles!==this.state.articles&&setTimeout((function(){window.scrollTo({top:document.documentElement.clientHeight,behavior:"smooth"})}),2e3)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,{getQuery:this.getQuery}),n.a.createElement(b,{articlesArr:this.state.articles,toogleModal:this.toogleModal,getCurrentId:this.getCurrentId}),this.state.articles.length>0?n.a.createElement(I,{fetch:this.fetchArticles}):"",this.state.isLoading&&n.a.createElement(A,null),this.state.modalVisible&&n.a.createElement(v,{toogleModal:this.toogleModal,getCurrentImage:this.getCurrentImage},n.a.createElement("h1",null,"This is modal")))}}]),a}(r.Component);a(66);o.a.render(n.a.createElement(C,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.376cc296.chunk.js.map